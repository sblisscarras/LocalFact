---
title: "LocalFact Data Analysis"
author: "Sofia Bliss-Carrascoas"
date: "3/10/2023"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r load packages, warning=FALSE, message=FALSE, echo = FALSE}
library(tidyverse)
library(knitr)
library(tibble)
library(kableExtra)
library(lubridate)
```

```{r loaddata, warning=FALSE, message=FALSE, echo = FALSE }
LocalFact <- read_csv("LocalFactDataCleaned-csv.csv")

LocalFact <- LocalFact %>%
  mutate(Date = mdy(Date))

LocalFact <- LocalFact %>%
  mutate(Month = months(Date))

LocalFact$Month <- factor(LocalFact$Month, 
                              levels = c("January", 
                                         "February", 
                                         "March",
                                         "April",
                                         "May",
                                         "June",
                                         "July",
                                         "August",
                                         "September",
                                         "October",
                                         "November"))
```
Here are some of the things I've jotted down, if it's helpful:
number of fact-checks by state
```{r}
LocalFact %>%
  group_by(State) %>%
  count()
```

number of fact-checks by fact-checker (organization)
```{r}
LocalFact %>%
  group_by(Organization) %>%
  count()
```

number of fact-checks by political/non-political type of claimant
```{r}
LocalFact %>%
  group_by(`Type of Claimant`) %>%
  count()
```

number of fact-checks by month of the year
```{r}
LocalFact %>%
  group_by(Month) %>%
  count()
```

number of fact-checks by politician (claimant name + politician as category)
```{r}
LocalFact %>%
  filter(`Political Designation` == "Politician") %>%
  group_by(`Claimant Name // (Claim Source?)`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by incumbent seeking re-election (same office held as office sought)
```{r}
LocalFact %>%
  filter(`Aspiring Position` == `Current Position`) %>%
  group_by(`Claimant Name // (Claim Source?)`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by current officeholder (yes)
```{r}
LocalFact %>%
  filter(`Current Officeholder?` == "Yes") %>%
  group_by(`Claimant Name // (Claim Source?)`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by running for office (yes)
```{r}
LocalFact %>%
  filter(`Running for Office?` == "Yes") %>%
  group_by(`Claimant Name // (Claim Source?)`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by office held
```{r}
LocalFact %>%
  group_by(`Current Position`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by office sought
```{r}
LocalFact %>%
  group_by(`Aspiring Position`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by topic
```{r}
# `INDIVIDUAL RECORD` <- sum(LocalFact$`INDIVIDUAL RECORD`)
# `ECONOMIC ISSUES` <- sum(LocalFact$`ECONOMIC ISSUES`)
# `GOVERNMENT OPERATIONS` <- sum(LocalFact$`GOVERNMENT OPERATIONS`)
# `VOTING/ELECTIONS` <- sum(LocalFact$`VOTING/ELECTIONS`)
# `CIVIL RIGHTS MINORITY ISSUES AND CIVIL LIBERTIES` <- sum(LocalFact$`CIVIL RIGHTS MINORITY ISSUES AND CIVIL LIBERTIES`)
# `IMMIGRATION AND REFUGEE ISSUES` <- sum(LocalFact$`IMMIGRATION AND REFUGEE ISSUES`)
# `LGBTQ` <- sum(LocalFact$`LGBTQ`)
# `RACE` <- sum(LocalFact$`RACE`)
# `RELIGION` <- sum(LocalFact$`RELIGION`)
# `` <- sum(LocalFact$``)
# 
# 
# LocalFactTags <- cbind(`INDIVIDUAL RECORD`, 
#                        `ECONOMIC ISSUES`, 
#                        `GOVERNMENT OPERATIONS`,
#                        `VOTING/ELECTIONS`,
#                        `CIVIL RIGHTS MINORITY ISSUES AND CIVIL LIBERTIES`,
#                        `IMMIGRATION AND REFUGEE ISSUES`,
#                        `LGBTQ`,
#                        `RACE`,
#                        `RELIGION`)

```

number of fact-checks by state and topic
```{r}

```

number of fact-checks by definitive rating
```{r}
LocalFact %>%
  group_by(`Was a Definitive Rating Given?`) %>%
  count()
```

number of fact-checks by source of statement
```{r}
LocalFact %>%
  group_by(`Source of Statement`) %>%
  count() %>%
  arrange(desc(n))
```

number of fact-checks by fact-check format
```{r}
LocalFact %>%
  group_by(`Fact-Check Format`) %>%
  count() %>%
  arrange(desc(n))
```

what percentage had multiple claims?
```{r}
uniqueclaims <- LocalFact %>%
  distinct(`Fact-Check URL`) %>%
  count()

splitclaims <- LocalFact %>%
  filter(`Multiple claims?` == "A") %>%
  count()

splitclaims/uniqueclaims*100
```


